{% extends 'base.html.twig' %}

{% block title %}Annonces{% endblock %}

{% block body %}
<div class="container is-widescreen">
    <br>
    <h2 style="text-decoration: underline;">Toutes les annonces disponibles</h2>
    <br>
    <form id="filters">
            {% for typeAnnonce in listTypeAnnonces %}
            <p><input type="checkbox" name="listTypeAnnonces[]" id="typeAnnonce{{ typeAnnonce.idtypeannonce }}" value="{{ typeAnnonce.idtypeannonce }}">
            <label for="typeAnnonce{{ typeAnnonce.idtypeannonce }}">{{ typeAnnonce.libelle }}</label></p>
            {% endfor %}
        <div class="select is-multiple">
            <select multiple size="5">
            {% for departement in listDepartements %}
            <option name="listDepartements[]" id="departement{{ departement.iddepartement }}" value="{{ departement.iddepartement }}">{{ departement.libelle }}</option>
        {% endfor %}
            </select>
        </div>
        <div class="select is-multiple">
            <select multiple size="5">
        {% for robe in listRobes %}
            <option name="listRobes[]" id="robe{{ robe.id }}" value="{{ robe.id }}">{{ robe.libelle }}</option>
        {% endfor %}
        </select>
        </div>
        <div class="select is-multiple">
            <select multiple size="5">
        {% for race in listRaces %}
            <option name="listRaces[]" id="race{{ race.id }}" value="{{ race.id }}">{{ race.libelle }}</option>
        {% endfor %}
            </select>
        </div>
    </form>
    <br>
    <br>
    <div class="columns" id="content">
        {% for annonce in listAnnonces %}
            <div class="column">
                <div class="card">
                    <div class="card-image">
                        <figure class="image is-4by3">
                            <img src="{{ asset('imgAnnonce/first.JPG') }}" alt="Placeholder image">
                        </figure>
                    </div>
                    <div class="card-content">
                        <div class="media">
                            <div class="media-content">
                                <p class="title is-4">{{ annonce.titre }}</p>
                                <p class="subtitle is-6">{{ annonce.prix }} €</p>
                            </div>
                        </div>
                        <div class="content">
                            <a href="{{ path('app_annonce_show', {'idannonce': annonce.idannonce}) }}"><button type="button" class="button is-fullwidth is-warning is-light">En savoir plus</button></a>
                            <br>
                            <time datetime="2016-1-1">Annonce postée le {{ annonce.dateCreation|date("d/m/Y") }}</time>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}